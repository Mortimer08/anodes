#{set q:tDetail.take.getQuantity()/}
<div class=" list-stacked" id="tDetail_${tDetail.take.id}">
    <form>
        <div class="mt-4 flex flex-middle list-item shadow-150 pb-3 pr-3"
             hx-post="@{controllers.action.Cleanings.takeChange(unit.cellDetail.cell.id)}"
             hx-trigger="change delay:500ms"
             hx-target="#tDetail_${tDetail.take.id}"
             hx-swap="outerHTML">
            <div class="px-3">
                ${tDetail.take.number}
                <input type="hidden" name="rq.id" value="${tDetail.take.id}">
                <input type="hidden" name="rq.takeNumber" value="${tDetail.take.number}">
            </div>
            <div class="">
                <div class="flex flex-start">
                    <div class="mr-2">
                        <label for="sc_${tDetail.take.id}" class="label label-light">Почищен</label>
                        <input type="date" name="rq.moment"
                               value="${tDetail.scrubbed?.format()}"
                               id="sc_${tDetail.take.id}"
                               class="input"
                               autocomplete="off">
                    </div>
                    <div class="align-center mr-2">
                        <label for="m_${tDetail.take.id}" class="label label-light  mb-2">W703</label>
                        <div>
                            #{set check:tDetail.machined > 0 ? 'checked' : ''/}
                            <input type="checkbox" name="rq.machined" value="${tDetail.machined}" id="m_${tDetail.take.id}" ${check}>
                            <input type="hidden" name="rq.handled" value="${tDetail.handled}">
                        </div>
                    </div>
                    <div class="align-center mr-2">
                        <label for="fd_${tDetail.take.id}" class="label label-light px-7">10%</label>
                        <select name="rq.firstDamage" class="input" id="fd_${tDetail.take.id}">
                            #{list 0..q}
                            <option value="${_}" ${_==tDetail.firstDamage?'selected':''}>${_}</option>
                            #{/list}
                        </select>
                    </div>
                    <div class="mr-2">
                        <label for="tc_${tDetail.take.id}" class="label label-light">На замену</label>
                        <select name="rq.toChange" class="input" id="tc_${tDetail.take.id}">
                            #{list 0..q}
                            <option value="${_}" ${_==tDetail.toChange?'selected':''}>${_}</option>
                            #{/list}
                        </select>
                    </div>

                    <div class="mr-2">
                        <label for="ch_${tDetail.take.id}" class="label label-light">Заменили</label>
                        <select name="rq.changed" class="input" id="ch_${tDetail.take.id}">
                            #{list 0..q}
                            <option value="${_}" ${_==tDetail.changed?'selected':''}>${_}</option>
                            #{/list}
                        </select>
                    </div>

                </div>
                <div class="">
                    <label for="c_${tDetail.take.id}" class="label label-light">Примечание</label>
                    <input type="text" name="rq.comment" value="${tDetail.comment}" id="c_${tDetail.take.id}"
                           placeholder="Комментарий"
                           class="input"
                           autocomplete="off">
                </div>
            </div>
        </div>
    </form>
</div>